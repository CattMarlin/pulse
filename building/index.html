<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Building Pulse - Pulse</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Building Pulse";
    var mkdocs_page_input_path = "building.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Pulse</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../installation/">Installation</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../collection-roller/">Collection Roller</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../log-appender/">Log Appenders</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../log-collector/">Log Collector</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../alerting-engine/">Alert Engine</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../visualizations/">Visualization</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Building Pulse</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#building-pulse">Building Pulse</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#building-the-project">Building the project</a></li>
        
            <li><a class="toctree-l3" href="#csd">CSD</a></li>
        
            <li><a class="toctree-l3" href="#cloudera-parcel">Cloudera Parcel</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../contributing/">Contributing to Pulse</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Pulse</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Building Pulse</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="building-pulse">Building Pulse</h1>
<h2 id="building-the-project">Building the project</h2>
<p><a href="https://www.scala-sbt.org">sbt</a> is used for building scala, and Make is added as a wrapper to simplify building tasks.</p>
<p>Makefile targets are run with <code>make &lt;target-name&gt;</code>, full documentation can be found in the Makefile:</p>
<ul>
<li><code>dist</code>: create a distribution (parcel and csd)</li>
<li><code>test</code>: run all tests</li>
<li><code>package</code>: create jars from source. This will place all jars in the <code>target/lib</code> director</li>
<li><code>install</code>: install parcel and CSD. This is only valid on a node running Cloudera Manager and will install
the csd/parcel to /opt/cloudera/csd and /opt/cloudera/parcel-repo. It will not distribute/activate the parcel
or refresh/install the CSD in Cloudera Manager</li>
</ul>
<p>Before submitting a pull request, please make sure <code>make test</code> and <code>make dist</code> both pass successfully.</p>
<h2 id="csd">CSD</h2>
<p>The CSD (Custom Service Descriptor) allows Cloudera Manager to easily
manage and monitor the Pulse log aggregation framework, creating 'roles'
for each of the Alerting Engine, Collection Roller, and Log Collector.</p>
<h3 id="building-the-csd">Building the CSD</h3>
<pre><code class="bash">$ make 
</code></pre>

<h3 id="installing-the-csd">Installing the CSD</h3>
<p>This is for a local/development installation only, see <a href="../installation/">instalation</a> for production
installation instructions.</p>
<p>This will copy the CSD to /opt/cloudera/csd. You must be on the Cloudera Manager node</p>
<pre><code class="bash">sudo make install
</code></pre>

<p>Refresh the CSD list</p>
<pre><code class="bash">GET /cmf/csd/refresh

</code></pre>

<p>Uninstall any old CSD</p>
<pre><code class="bash">GET /cmf/csd/uninstall?csdName=PULSE-0.1.0
</code></pre>

<p>Install the CSD</p>
<pre><code class="bash">GET /cmf/csd/install?csdName=PULSE-0.1.1
</code></pre>

<h2 id="cloudera-parcel">Cloudera Parcel</h2>
<h3 id="building-the-parcel">Building the parcel</h3>
<p>At the root of the project, run </p>
<pre><code class="bash">$ make package
</code></pre>

<p>This will collect all dependent jars into the <code>lib_managed</code> folder</p>
<p>Then from this directory run:</p>
<pre><code class="bash">$ make 
</code></pre>

<h3 id="installing-the-parcel">Installing the Parcel</h3>
<p>This will copy the CSD to /opt/cloudera/csd. You must be on the Cloudera Manager node</p>
<pre><code class="bash">sudo make install
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../contributing/" class="btn btn-neutral float-right" title="Contributing to Pulse">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../visualizations/" class="btn btn-neutral" title="Visualization"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../visualizations/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../contributing/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
